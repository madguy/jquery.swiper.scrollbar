/*!
 * Swiper Scrollbar 2.4
 * Plugin for Swiper 2.0+
 * http://www.idangero.us/sliders/swiper/
 *
 * Copyright 2012-2013, Vladimir Kharlampidi
 * The iDangero.us
 * http://www.idangero.us/
 *
 * Licensed under GPL & MIT
 *
 * Released on: December 6, 2013
 */
(function(n){Swiper.prototype.plugins.scrollbar=function(t,i){var y=n.extend({draggable:!0,snapOnRelease:!1},i),u=n(y.container),a,h,f,o,e,s,tt;if(u.length!==0){a=t.params.mode==="horizontal",u.each(function(){n('<div class="swiper_scrollbar_drag" />').toggleClass("swiper_scrollbar_cursor_drag",y.draggable).appendTo(this)});var r=n(".swiper_scrollbar_drag",u),v=function(n,i){var r=String(i.x||0),u=String(i.y||0),f=String(i.z||0);t.support.threeD?n.css({transform:"translate3d("+r+"px, "+u+"px, "+f+"px)"}):(n.css({transform:"translate("+r+"px, "+u+"px)"}),t.ie8&&n.css({left:r+"px",top:u+"px"}))},c=function(n,t){n.css({transitionDuration:String(t)+"ms"})},b=function(){var n;a?(o=u.outerWidth(),n=t.width/t.wrapper.offsetWidth,h=n*(o/t.width),f=o*n,r.width(f),v(r,{x:t.activeIndex*f})):(s=u.outerHeight(),n=t.height/t.wrapper.offsetHeight,h=n*(s/t.height),e=s*n,r.height(e),v(r,{y:t.activeIndex*e}))},it=function(n){var u,t,c,i,l;a?(t=n.x*h,c=f,t>0?(u=t,t=0,c=f-u):-1*t+f>o&&(c=o+t),v(r,{x:-1*t}),r.width(c)):(i=n.y*h,l=e,i>0?(u=i,i=0,l=e-u):-1*i+e>s&&(l=s+i),v(r,{y:-1*i}),r.height(l))},k=function(n){var i=0,c=0,p,w,l,y;a?(p=n.type==="touchstart"||n.type==="touchmove"?n.targetTouches[0].pageX:n.pageX||n.clientX,i=p-u.offset().left-f/2,i<0?i=0:i+f>o&&(i=o-f)):(w=n.type==="touchstart"||n.type==="touchmove"?n.targetTouches[0].pageY:n.pageY||n.clientY,c=w-u.offset().top-e/2,c<0?c=0:c+e>s&&(c=s-e)),v(r,{x:i,y:c}),l=-1*i/h,y=-1*c/h,t.setWrapperTranslate(l,y,0),t.updateActiveSlide(a?l:y)},d=function(i){t.browser.ie8&&(i=n.event.fix(i)),w=!0,i.preventDefault(),n(i.target).is(".swiper_scrollbar_drag")===!1&&t.setWrapperTransition(0),k(i),c(u,0),t.setWrapperTransition(100),c(r,100)},g=function(f){if(w===!0&&(t.browser.ie8&&(f=n.event.fix(f)),f.preventDefault(),k(f),t.setWrapperTransition(0),c(u,0),c(r,0),i.onScrollbarDrag))i.onScrollbarDrag(t)},nt=function(){w=!1,y.snapOnRelease&&t.swipeReset()};if(y.draggable){var w=!1,p=n(t.support.touch?u:document),l=t.touchEvents;u.each(function(){t.h.addEventListener(this,l.touchStart,d,!1)}),p.each(function(){t.h.addEventListener(this,l.touchMove,g,!1)}),p.each(function(){t.h.addEventListener(this,l.touchEnd,nt,!1)})}return tt={onFirstInit:function(){setTimeout(b,0)},onInit:function(){setTimeout(b,0)},onSwipeReset:function(){var n=t.params.speed;c(r,n),t.setWrapperTransition(n)},onSetWrapperTransform:function(n){it(n)},onSetWrapperTransition:function(n){c(r,n.duration)},onDestroy:function(){u.each(function(){t.h.removeEventListener(this,l.touchStart,d,!1)}),p.each(function(){t.h.removeEventListener(this,l.touchMove,g,!1)}),p.each(function(){t.h.removeEventListener(this,l.touchEnd,nt,!1)})}}}}})(jQuery)